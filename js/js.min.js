!function(t){var r={};function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(n,e){if(1&e&&(n=o(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)o.d(t,r,function(e){return n[e]}.bind(null,r));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o(o.s=0)}({"./source/js/modules/chat.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nvar chatToggler = document.querySelector('.js-chat-toggler');\n\nif (chatToggler) {\n  var chat = document.querySelector('.chat');\n  var chatTooltip = document.querySelector('.js-chat-tooltip');\n  var chatClose = document.querySelector('.js-chat-close');\n  var chatOverlay = document.querySelector('.js-chat-overlay');\n  chatToggler.addEventListener('click', function () {\n    chat.classList.add('chat--expanded');\n  });\n  chatClose.addEventListener('click', function () {\n    chat.classList.remove('chat--expanded');\n  });\n  chatOverlay.addEventListener('click', function () {\n    chat.classList.remove('chat--expanded');\n  });\n  var questionsSlider;\n\n  var enableSwiper = function enableSwiper() {\n    questionsSlider = new Swiper('.js-questions-slider', {\n      navigation: {\n        nextEl: '.chat-tooltip__control-next',\n        prevEl: '.chat-tooltip__control-prev'\n      },\n      autoHeight: true,\n      on: {\n        slideChange: function slideChange() {\n          this.updateAutoHeight(500);\n        }\n      }\n    });\n  };\n\n  var setQuestionsSlider = function setQuestionsSlider(evt) {\n    if (evt.target.classList.contains('js-question')) {\n      evt.target.parentNode.remove();\n\n      if (questionsSlider) {\n        questionsSlider.destroy(true, true);\n      }\n\n      enableSwiper();\n    }\n  }; // Выбор вопросов в чате\n\n\n  var messageBlock = document.querySelector('.chat-tooltip__messages');\n  var xhr = new XMLHttpRequest();\n  xhr.open('GET', '/api/chat', false);\n  xhr.send();\n  var dataJson = JSON.parse(xhr.responseText);\n  var botName = 'Константин';\n  var noAnswerMessage = 'Мы сможем на него ответить чуть позже.'; // Получаем текущее время\n\n  var getСurrentTime = function getСurrentTime() {\n    var hours = new Date().getHours();\n    var minutes = new Date().getMinutes();\n    return \"\".concat(hours, \":\").concat(minutes);\n  }; // Шаблон приветствия\n\n\n  var createGreetingMessageTemplate = function createGreetingMessageTemplate(name, time) {\n    return \"<div class=\\\"chat-tooltip__message incoming\\\">\\n          <div class=\\\"message\\\">\\n            <div class=\\\"message__bubble\\\">\\n              <p>\\u0417\\u0434\\u0440\\u0430\\u0432\\u0441\\u0442\\u0432\\u0443\\u0439\\u0442\\u0435! \\u041C\\u0435\\u043D\\u044F \\u0437\\u043E\\u0432\\u0443\\u0442 \".concat(name, \", \\u0438 \\u044F \\u0431\\u0443\\u0434\\u0443 \\u0432\\u0430\\u0448\\u0438\\u043C \\u043A\\u043E\\u043D\\u0441\\u0443\\u043B\\u044C\\u0442\\u0430\\u043D\\u0442\\u043E\\u043C</p>\\n            </div><span class=\\\"message__time\\\">\").concat(time, \"</span>\\n          </div>\\n        </div>\");\n  }; // Шаблон вопроса\n\n\n  var createOutcomingMessageTemplate = function createOutcomingMessageTemplate(message, time) {\n    return \"<div class=\\\"chat-tooltip__message outcoming\\\">\\n          <div class=\\\"message\\\">\\n            <div class=\\\"message__bubble\\\">\\n              <p>\".concat(message, \"</p>\\n            </div><span class=\\\"message__time\\\">\").concat(time, \"</span>\\n          </div>\\n        </div>\");\n  }; // Шаблон ответа\n\n\n  var createPMarkup = function createPMarkup(arr) {\n    return arr.map(function (el) {\n      return \"<p>\".concat(el, \"</p>\");\n    }).join(\"\\n\");\n  };\n\n  var createIncomingMessageTemplate = function createIncomingMessageTemplate(message, time) {\n    var p = createPMarkup(message);\n    return \"<div class=\\\"chat-tooltip__message incoming\\\">\\n          <div class=\\\"message\\\">\\n            <div class=\\\"message__bubble\\\">\\n              <div><p></p> \".concat(p, \"</div>\\n            </div><span class=\\\"message__time\\\">\").concat(time, \"</span>\\n          </div>\\n        </div>\");\n  }; // Функция рендера\n\n\n  var render = function render(container, template, place) {\n    container.insertAdjacentHTML(place, template);\n  }; // Обработчик событий клика по кнопке в чате\n\n\n  var chatClicHandler = function chatClicHandler(evt) {\n    var evtDataQuestion = evt.target.getAttribute('data-question');\n    var tolerance = messageBlock.getBoundingClientRect().y + 20;\n    var moveTo = new MoveTo({\n      tolerance: tolerance,\n      duration: 500,\n      easing: 'easeOutQuart',\n      container: messageBlock\n    });\n\n    if (evt.target.classList.contains('js-question')) {\n      if (!chatTooltip.classList.contains('chat-tooltip--texting')) {\n        chatTooltip.classList.add('chat-tooltip--texting');\n        messageBlock.innerHTML = '';\n        render(messageBlock, createGreetingMessageTemplate(botName, getСurrentTime()), 'beforeend');\n        render(messageBlock, createOutcomingMessageTemplate(dataJson.questions[evtDataQuestion].question, getСurrentTime()), 'beforeend');\n\n        if (dataJson.questions[evtDataQuestion].answer) {\n          render(messageBlock, createIncomingMessageTemplate(dataJson.questions[evtDataQuestion].answer, getСurrentTime()), 'beforeend');\n        } else {\n          render(messageBlock, createIncomingMessageTemplate(noAnswerMessage, getСurrentTime()), 'beforeend');\n        }\n\n        setQuestionsSlider(evt);\n      } else {\n        render(messageBlock, createOutcomingMessageTemplate(dataJson.questions[evtDataQuestion].question, getСurrentTime()), 'beforeend');\n        var outcomingMassage = document.querySelectorAll('.outcoming');\n        var lastOutcomingMassage = outcomingMassage[outcomingMassage.length - 1];\n        moveTo.move(lastOutcomingMassage);\n\n        if (dataJson.questions[evtDataQuestion].answer) {\n          render(messageBlock, createIncomingMessageTemplate(dataJson.questions[evtDataQuestion].answer, getСurrentTime()), 'beforeend');\n        } else {\n          render(messageBlock, createIncomingMessageTemplate(noAnswerMessage, getСurrentTime()), 'beforeend');\n        }\n\n        setQuestionsSlider(evt);\n      }\n    }\n  };\n\n  chat.addEventListener('click', chatClicHandler);\n}\n\n//# sourceURL=webpack:///./source/js/modules/chat.js?")},"./source/js/modules/main.js":function(module,exports){eval("var body = document.body;\nvar html = document.documentElement;\nvar win = window;\n\nbody.onload = function () {\n  'use strict';\n\n  body.classList.add('animate');\n  var vh = window.innerHeight * 0.01;\n  document.documentElement.style.setProperty('--vh', \"\".concat(vh, \"px\"));\n  window.addEventListener('resize', function () {\n    var vh = window.innerHeight * 0.01;\n    document.documentElement.style.setProperty('--vh', \"\".concat(vh, \"px\"));\n  });\n  var questionTogglers = document.querySelectorAll('.js-question-toggler');\n\n  if (questionTogglers.length) {\n    for (var i = 0; i < questionTogglers.length; i++) {\n      questionTogglers[i].addEventListener('click', function () {\n        this.parentNode.classList.toggle('question--opened');\n      });\n    }\n  }\n\n  var modalTrigger = document.querySelectorAll('.js-modal-trigger');\n\n  if (modalTrigger.length) {\n    (function () {\n      var modals = document.querySelectorAll('.js-modal');\n\n      for (var _i = 0; _i < modalTrigger.length; _i++) {\n        modalTrigger[_i].addEventListener('click', function (e) {\n          e.preventDefault();\n          var target = this.getAttribute('data-target');\n\n          if (modals.length) {\n            Array.from(modals).forEach(function (modalEl) {\n              var identifyer = modalEl.getAttribute('id');\n\n              if (!(identifyer === target) && modalEl.classList.contains('modal--show')) {\n                modalEl.classList.remove('modal--show');\n                body.classList.remove('overflow');\n              } else if (identifyer === target) {\n                modalEl.classList.add('modal--show');\n                body.classList.add('overflow');\n              }\n            });\n          }\n        });\n      }\n\n      var overlays = document.querySelectorAll('.modal__overlay');\n      Array.from(overlays).forEach(function (element) {\n        element.addEventListener('click', function () {\n          element.parentNode.classList.remove('modal--show');\n          body.classList.remove('overflow');\n        });\n      });\n      var closeEls = document.querySelectorAll('.js-modal-close');\n      Array.from(closeEls).forEach(function (element) {\n        element.addEventListener('click', function () {\n          var targetId = element.getAttribute('data-target');\n          document.getElementById(targetId).classList.remove('modal--show');\n          body.classList.remove('overflow');\n        });\n      });\n    })();\n  }\n\n  var galleryTogglers = document.querySelectorAll('.js-gallery-trigger');\n\n  if (galleryTogglers.length) {\n    (function () {\n      for (var _i2 = 0; _i2 < galleryTogglers.length; _i2++) {\n        galleryTogglers[_i2].addEventListener('click', function () {\n          var num = parseInt(this.getAttribute('data-num'));\n          gallerySlider.slideToLoop(num, 700, false);\n        });\n      }\n\n      var gallerySlider = new Swiper('.js-gallery', {\n        loop: true,\n        autoHeight: true,\n        navigation: {\n          nextEl: '.gallery__control-next',\n          prevEl: '.gallery__control-prev'\n        }\n      });\n    })();\n  }\n\n  var navToggler = document.querySelector('.js-nav-toggler');\n  var header = document.querySelector('.js-header');\n\n  if (navToggler) {\n    navToggler.addEventListener('click', function () {\n      if (header.classList.contains('page-header--menu-opened')) {\n        header.classList.remove('page-header--menu-opened');\n        body.classList.remove('overflow');\n      } else {\n        header.classList.add('page-header--menu-opened');\n        body.classList.add('overflow');\n      }\n    });\n  }\n\n  (function () {\n    scrollTo();\n  })();\n\n  function scrollTo() {\n    var links = document.querySelectorAll('.js-scroll-link');\n    links.forEach(function (each) {\n      return each.onclick = scrollAnchors;\n    });\n  }\n\n  function scrollAnchors(e) {\n    var respond = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    var distanceToTop = function distanceToTop(el) {\n      return Math.floor(el.getBoundingClientRect().top);\n    };\n\n    e.preventDefault();\n    var targetID = respond ? respond.getAttribute('href') : this.getAttribute('href');\n    var targetAnchor = document.querySelector(targetID);\n    if (!targetAnchor) return;\n    var originalTop = distanceToTop(targetAnchor);\n    window.scrollBy({\n      top: originalTop,\n      left: 0,\n      behavior: 'smooth'\n    });\n    var checkIfDone = setInterval(function () {\n      var atBottom = window.innerHeight + window.pageYOffset >= document.body.offsetHeight - 2;\n\n      if (distanceToTop(targetAnchor) === 0 || atBottom) {\n        targetAnchor.tabIndex = '-1';\n        targetAnchor.focus();\n        window.history.pushState('', '', targetID);\n        clearInterval(checkIfDone);\n      }\n    }, 100);\n  }\n\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\n  if (/iPhone|iPad/i.test(navigator.userAgent) || isSafari) {\n    body.classList.add('ios');\n  }\n\n  var footer = document.querySelector('.page-footer');\n  win.addEventListener('scroll', function () {\n    if (this.pageYOffset > footer.offsetTop - this.innerHeight) {\n      document.querySelector('.js-chat').style.opacity = 0;\n      document.querySelector('.js-chat').classList.add('js-chat--index');\n    } else {\n      document.querySelector('.js-chat').style.opacity = 1;\n      document.querySelector('.js-chat').classList.remove('js-chat--index');\n    }\n  });\n\n  var loadVideo = function loadVideo(elem) {\n    Array.from(elem).forEach(function (el) {\n      if (!el.getAttribute('src')) {\n        var src = el.getAttribute('data-src');\n        el.setAttribute('src', src);\n      }\n    });\n  };\n\n  var sliderContaner = document.querySelector('.slider-section');\n\n  if (sliderContaner) {\n    var jsVideoThumbs = new Swiper('.js-previews', {\n      observer: true,\n      observeParents: true,\n      observeSlideChildren: true,\n      freeMode: true,\n      watchSlidesVisibility: true,\n      watchSlidesProgress: true,\n      onlyExternal: false,\n      loop: false,\n      grabcursor: false,\n      width: '100%',\n      navigation: {\n        nextEl: '.previews-slider__control--firsrt-next',\n        prevEl: '.previews-slider__control--firsrt-prev'\n      }\n    });\n    var jsVideoSlider = new Swiper('.js-video-slider', {\n      observer: true,\n      observeParents: true,\n      observeSlideChildren: true,\n      loop: true,\n      navigation: {\n        nextEl: '.video-slider__control--firsrt-next',\n        prevEl: '.video-slider__control--firsrt-prev'\n      },\n      thumbs: {\n        swiper: jsVideoThumbs\n      },\n      on: {\n        slideChange: function slideChange() {\n          var slideNum = this.activeIndex;\n          var previousSlideNum = this.previousIndex;\n          var nextVideo = this.slides[slideNum].querySelectorAll('iframe');\n          loadVideo(nextVideo);\n          var previousSlide = this.slides[previousSlideNum].querySelector('iframe');\n          previousSlide.removeAttribute('src');\n        }\n      }\n    });\n    var jsVideoThumbs2 = new Swiper('.js-previews2', {\n      observer: true,\n      observeParents: true,\n      observeSlideChildren: true,\n      freeMode: true,\n      watchSlidesVisibility: true,\n      watchSlidesProgress: true,\n      grabcursor: false,\n      onlyExternal: true,\n      loop: false,\n      width: '100%',\n      navigation: {\n        nextEl: '.previews-slider__control--second-next',\n        prevEl: '.previews-slider__control--second-prev'\n      }\n    });\n    var jsVideoSlider2 = new Swiper('.js-video-slider2', {\n      observer: true,\n      observeParents: true,\n      observeSlideChildren: true,\n      navigation: {\n        nextEl: '.video-slider__control--second-next',\n        prevEl: '.video-slider__control--second-prev'\n      },\n      thumbs: {\n        swiper: jsVideoThumbs2\n      },\n      on: {\n        slideChange: function slideChange() {\n          var slideNum = this.activeIndex;\n          var previousSlideNum = this.previousIndex;\n          var nextVideo = this.slides[slideNum].querySelectorAll('iframe');\n          loadVideo(nextVideo);\n          var previousSlide = this.slides[previousSlideNum].querySelector('iframe');\n          previousSlide.removeAttribute('src');\n        }\n      }\n    });\n  }\n\n  ;\n  var sliderControls = document.querySelectorAll('.slider-section__link');\n  var sliderBlocks = document.querySelectorAll('.slider-section__slide-block');\n\n  var removeLinksActiveClass = function removeLinksActiveClass() {\n    sliderControls.forEach(function (el) {\n      var link = el;\n      link.classList.remove('slider-section__link--active');\n    });\n  };\n\n  var displayNoneAllSlidersBlocks = function displayNoneAllSlidersBlocks() {\n    sliderBlocks.forEach(function (el) {\n      var block = el;\n      block.classList.add('hidden');\n    });\n  };\n\n  var hideAllSlidersBlocks = function hideAllSlidersBlocks() {\n    sliderBlocks.forEach(function (el) {\n      var block = el;\n      block.classList.add('no-opacity');\n    });\n  };\n\n  var showSliderBlock = function showSliderBlock(block) {\n    block.classList.remove('no-opacity');\n  };\n\n  var displayBlockSliderBlock = function displayBlockSliderBlock(block) {\n    block.classList.remove('hidden');\n  };\n\n  var onClickViewProductLinks = function onClickViewProductLinks() {\n    if (sliderControls) {\n      sliderControls.forEach(function (el, i) {\n        var link = el;\n        var index = i;\n        link.addEventListener('click', function (evt) {\n          evt.preventDefault();\n\n          if (!link.classList.contains('slider-section__link--active')) {\n            removeLinksActiveClass();\n            link.classList.add('slider-section__link--active');\n            hideAllSlidersBlocks();\n            setTimeout(displayNoneAllSlidersBlocks, 200);\n            setTimeout(function () {\n              displayBlockSliderBlock(sliderBlocks[index]);\n            }, 200);\n            setTimeout(function () {\n              showSliderBlock(sliderBlocks[index]);\n            }, 300);\n          }\n        });\n      });\n    }\n  };\n\n  if (sliderControls) {\n    onClickViewProductLinks();\n  }\n};\n\n//# sourceURL=webpack:///./source/js/modules/main.js?")},0:function(module,exports,__webpack_require__){eval('__webpack_require__(/*! /Users/iliya939/Downloads/voting (1)/source/js/modules/chat.js */"./source/js/modules/chat.js");\nmodule.exports = __webpack_require__(/*! /Users/iliya939/Downloads/voting (1)/source/js/modules/main.js */"./source/js/modules/main.js");\n\n\n//# sourceURL=webpack:///multi_./source/js/modules/chat.js_./source/js/modules/main.js?')}});